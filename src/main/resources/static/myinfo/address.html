<!DOCTYPE html>
<html xmlns:v-for="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta charset="utf-8"/>
    <title>我的收货地址</title>
    <link rel="stylesheet" type="text/css" href="../css/public.css"/>
    <link rel="stylesheet" type="text/css" href="../css/proList.css"/>
    <link rel="stylesheet" type="text/css" href="../css/mygxin.css"/>
    <script src="../js/jquery-1.12.4.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/public.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/pro.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/user.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/vue.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-3.3.1.min.js"></script>
    <script src="../js/vue.min.js"></script>
</head>
<body>
<!------------------------------head------------------------------>
<div class="head ding">
    <div class="wrapper clearfix">
        <div class="clearfix" id="top">
            <h1 class="fl"><a href="index.html"><img src="../images/logo.png" style="margin-top: -20px;"/></a></h1>
            <div class="fr clearfix" id="top1">
                <p class="fl">
                    <a href="login.html" id="login">登录</a>
                    <a href="reg.html" id="reg">注册</a>
                </p>
                <form action="#" method="get" class="fl">
                    <input type="text" placeholder="搜索"/>
                    <input type="button"/>
                </form>
            </div>
        </div>
        <ul class="clearfix" id="bott">
            <li><a href="index.html">首页</a></li>
            <li>
                <a href="flowerDer.html">考试教育</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">公务员考试</a>
                        <a href="../flowerDer.html">英语考试</a>
                        <a href="../flowerDer.html">考研</a>
                        <a href="../flowerDer.html">其他考试</a>
                        <a href="../flowerDer.html">职称考试</a>
                        <a href="../flowerDer.html">教辅书</a>
                        <a href="../flowerDer.html">工具书</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="decoration.html">经济管理</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">成功励志</a>
                        <a href="../flowerDer.html">管理</a>
                        <a href="../flowerDer.html">经济金融</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="paint.html">文学艺术</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">收藏鉴赏</a>
                        <a href="../flowerDer.html">艺术</a>
                        <a href="../flowerDer.html">文学小说</a>
                        <a href="../flowerDer.html">文化历史</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="../flowerDer.html">人文社科</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">新闻传播</a>
                        <a href="../flowerDer.html">心理</a>
                        <a href="../flowerDer.html">法律</a>
                        <a href="../flowerDer.html">自然科学</a>
                        <a href="../flowerDer.html">社会科学</a>
                        <a href="../flowerDer.html">政治军事</a>
                        <a href="../flowerDer.html">宗教哲学</a>
                        <a href="../flowerDer.html">语言学习</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="../flowerDer.html">科学技术</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">汽车与交通运输</a>
                        <a href="../flowerDer.html">医学卫生</a>
                        <a href="../flowerDer.html">计算机与网络</a>
                        <a href="../flowerDer.html">科技工程</a>
                        <a href="../flowerDer.html">建筑</a>
                    </div>
                </div>
            </li>
            <li>
                <a href="../flowerDer.html">生活休闲</a>
                <div class="sList2">
                    <div class="clearfix">
                        <a href="../flowerDer.html">生活时尚</a>
                        <a href="../flowerDer.html">家庭育儿</a>
                        <a href="../flowerDer.html">旅游地理</a>
                        <a href="../flowerDer.html">体育保健</a>
                        <a href="../flowerDer.html">少儿</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<!------------------------------idea------------------------------>
<div class="address mt">
    <div class="wrapper clearfix">
        <a href="../index.html" class="fl">首页</a>
        <span>/</span>
        <a href="mygxin.html">个人中心</a>
        <span>/</span>
        <a href="address.html" class="on">地址管理</a>
    </div>
</div>

<!------------------------------Bott------------------------------>
<div class="Bott" id="app">
    <div class="wrapper clearfix">
        <div class="zuo fl">
            <h3>
                <a href="#"><img src="../images/tx.png" id="touxiang" width="90px" height="90px"/></a>
                <p class="clearfix"><span class="fl">[黄琦]</span><span class="fr">[注销]</span></p>
            </h3>
            <div>
                <h4>我的交易</h4>
                <ul>
                    <li><a href="start.html">我的收藏</a></li>
                    <li><a href="myorderq.html">我的订单</a></li>
                    <li><a href="mysell.html">我售出的</a></li>
                </ul>
                <h4>个人中心</h4>
                <ul>
                    <li><a href="mygxin.html">我的中心</a></li>
                    <li><a href="address.html">地址管理</a></li>
                    <li><a href="sellbook.html">发布书籍</a></li>
                </ul>
                <h4>账户管理</h4>
                <ul>
                    <li class="on"><a href="mygrxx.html">个人信息</a></li>
                    <li><a href="remima.html">修改密码</a></li>
                </ul>
            </div>
        </div>
        <div class="you fl" id="app">
            <div class="order cart mt">
                <!--<h2>收货地址</h2>-->
                <div class="orderCon wrapper clearfix" style="margin-top: -60px">
                    <div class="orderL fl">
                        <!--------h3---------------->
                        <h3><span>收货地址</span><a href="#" class="fr add" @click="addplace()">新增地址</a></h3>
                        <!--------addres---------------->
                        <div class="addres clearfix">
                            <div class="addre fl" v-for = "item,index in datalist">
                                <div class="tit clearfix">
                                    <p class="fl">{{item.receiverName}}
                                        <span v-if="item.isDefault == 1" class="default">[默认地址]</span>
                                    </p>
                                    <p class="fr">
                                        <a href="#" @click="del(index)">删除</a>
                                        <span>|</span>
                                        <a href="#" class="edit" @click="editaddr(index)">编辑</a>
                                    </p>
                                </div>
                                <div class="addCon">
                                    <p>{{item.placeName}}</p>
                                    <p>{{item.receiverTel}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--编辑弹框-->
<!--遮罩-->
<div class="mask"></div>
<div class="adddz" id="addplace">
    <form>
        <input type="text" placeholder="姓名" class="on"/>
        <input type="text" placeholder="手机号"/>
        <div class="city">
            <select name="">
                <option value="省份/自治区">桃园</option>
                <option value="省份/自治区">荷园</option>
                <option value="省份/自治区">松原</option>
            </select>
        </div>
        <div class="bc">
            <input type="button" value="添加" @click="add()"/>
            <input type="button" value="取消" @click="close"/>
        </div>
    </form>
</div>
<div class="readd" id="editaddr">
    <form class="layui-form">
        <input type="text" class="on" value="六六六" v-model="address.receiverName"/>
        <input type="text" value="157****0022" v-model="address.receiverTel"/>
        <div class="city">
            <select v-model="address.placeName">
                <option :value="item.placeName" :id="item.placeTransactionId"  v-for="item in place">{{item.placeName}}</option>
                <!--<option value="省份/自治区">荷园</option>-->
                <!--<option value="省份/自治区">松原</option>-->
            </select>
        </div>
        <div class="bc">
            <input type="button" value="保存" @click="save()"/>
            <input type="button" value="取消" @click="close()"/>
        </div>
    </form>
</div>
<!--右下角导航栏返回顶部-->
<div class="gotop">
    <a href="start.html">
        <dl>
            <dt><img src="../images/collection.png"/></dt>
            <dd>我的<br/>收藏</dd>
        </dl>
    </a>
    <a href="sellbook.html" class="dh">
        <dl>
            <dt><img src="../images/addbook.png"/></dt>
            <dd>发布<br/>图书</dd>
        </dl>
    </a>
    <a href="mygxin.html">
        <dl>
            <dt><img src="../images/gt3.png"/></dt>
            <dd>个人<br/>中心</dd>
        </dl>
    </a>
    <a href="#" class="toptop" style="display: none">
        <dl>
            <dt><img src="../images/gt4.png"/></dt>
            <dd>返回<br/>顶部</dd>
        </dl>
    </a>
</div>
<!--footer-->
<div class="footer">
    <div style="margin-top: 30px;"></div>
    <p class="dibu">科院书城&copy;2019公司版权所有<br/> 本网站所列数据，除特殊说明，所有数据均为测试数据
    </p>
</div>
<script>
    $(".add").click(function(){
        $(".mask").show();
        $(".adddz").show();
    });
</script>
<script>
    $(function(){
        $.ajax({
            url:"/../getreceiveadress",
            type:"get",
            async: false,//使用同步的方式,true为异步方式
            data:{
                userName:"张三"//localStorage.getItem("userName")
            },
            success:function(data){
                v.datalist = data.data;
                console.log(v.datalist);
            },
            fail:function(){
                alert(error);
            }
        })
    })
    var v = new Vue({
        el: "#app",
        data: {
            datalist: []
        },
        methods: {
            del:function (index) {
                console.log(this.datalist[index]);
            },
            editaddr:function (index) {
                $(".mask").show();
                $(".readd").show();
                console.log(this.datalist[index]);
                editdz.address = this.datalist[index];
                console.log(editdz.address)
                findPlace();
            },
            addplace:function () {
                $(".mask").show();
                $(".adddz").show();
            }
        }
    });

    function findPlace(){
        $.ajax({
            url:"/../placelist",
            type:"get",
            async: false,//使用同步的方式,true为异步方式
            data:{
            },
            success:function(data){
                addplace.place = data.data;
                editdz.place = data.data;
            },
            fail:function(){
                alert(error);
            }
        })

    }
    //新增地址
    var addplace = new Vue({
        el:"#addplace",
        data:{
            address:[],
            place:[]
        },
        methods:{
            close:function () {
                $(".mask").hide();
                $("#addplace").hide();
            }
        }
    });
    //编辑地址
    var editdz = new Vue({
        el:"#editaddr",
        data:{
            address:[],
            place:[]
        },
        methods:{
            close:function () {
                $(".mask").hide();
                $("#editaddr").hide();
                window.location.reload()
            }
        }
    });
</script>
</body>
</html>
